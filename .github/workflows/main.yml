name: WorkifyStyling

on:
  push:
    branches: [main]

jobs:
  lintTest:
    name: Styling
    runs-on: ubuntu-latest
    steps:
      - name: Clone Repository
        uses: actions/checkout@v2

      - name: Install Dependencies
        run: npm install

      - name: Run Lint
        run: npm run style:all

      - name: Prettify code
        uses: creyD/prettier_action@v4.2

  imageOptimize:
    name: OpImage
    runs-on: ubuntu-latest
    steps:
      - name: Checkout Repo
        uses: actions/checkout@master

      - name: Compress Images
        uses: calibreapp/image-actions@main
        # The `GITHUB_TOKEN` is automatically generated by GitHub and scoped only to the repository that is currently running the action. By default, the action canâ€™t update Pull Requests initiated from forked repositories.
        # See https://docs.github.com/en/actions/reference/authentication-in-a-workflow and https://help.github.com/en/articles/virtual-environments-for-github-actions#token-permissions
        githubToken: ${{ secrets.GITHUB_TOKEN }}
